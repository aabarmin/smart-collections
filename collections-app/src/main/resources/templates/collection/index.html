<!DOCTYPE html>
<html lang="en"
      layout:decorate="~{security_layout.html}"
      xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="">
<head>
    <title>My collections</title>
</head>
<body>
<th:block layout:fragment="main-content">
    <h1>My collections</h1>

    <ul>
        <li>
            <a th:href="@{/collections/new}">Create a new collection</a>
        </li>
    </ul>

    <p th:if="${#lists.isEmpty(collections)}">
        You don't have any collections yet, don't you want to <a th:href="@{/collections/new}">create a new one</a>?
    </p>

    <th:block th:if="${not #lists.isEmpty(collections)}">
        <table th:each="collection : ${collections}" th:class="table">
            <tr>
                <td th:text="${collection.getName()}" />
            </tr>
            <tr>
                <td>
                    <ul>
                        <li>
                            <a th:href="@{/collections/{id}/edit(id=${collection.getId()})}">Edit</a>
                        </li>
                        <li>
                            <a th:href="@{/collections/{id}/albums/add(id=${collection.getId()})}">Add album</a>
                        </li>
                    </ul>
                </td>
            </tr>
            <tr>
                <td>
                    <ul>
                        <li th:each="item : ${collection.getCollectionItems()}"
                            th:text="${item.getArtist() + ' - ' + item.getAlbum()}" />
                    </ul>
                </td>
            </tr>
        </table>
    </th:block>
</th:block>
</body>
</html>